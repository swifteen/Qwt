<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Qwt User&apos;s Guide: qwt_data.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>qwt_data.cpp</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/* -*- mode: C++ ; c-file-style: "stroustrup" -*- *****************************</span>
00002 <span class="comment"> * Qwt Widget Library</span>
00003 <span class="comment"> * Copyright (C) 1997   Josef Wilgen</span>
00004 <span class="comment"> * Copyright (C) 2002   Uwe Rathmann</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
00007 <span class="comment"> * modify it under the terms of the Qwt License, Version 1.0</span>
00008 <span class="comment"> *****************************************************************************/</span>
00009 
00010 <span class="comment">// vim: expandtab</span>
00011 
00012 <span class="preprocessor">#include "qwt_data.h"</span>
00013 
00014 QwtData::QwtData()
00015 {
00016 }
00017 
00018 QwtData::~QwtData()
00019 {
00020 }
00021 
<a name="l00033"></a><a class="code" href="class_qwt_data.html#a6">00033</a> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a> <a class="code" href="class_qwt_data.html#a6">QwtData::boundingRect</a>()<span class="keyword"> const</span>
00034 <span class="keyword"></span>{
00035     <span class="keyword">const</span> size_t sz = <a class="code" href="class_qwt_data.html#a3">size</a>();
00036 
00037     <span class="keywordflow">if</span> ( sz &lt;= 0 )
00038         <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(1.0, -1.0, 1.0, -1.0); <span class="comment">// invalid</span>
00039 
00040     <span class="keywordtype">double</span> minX, maxX, minY, maxY;
00041     minX = maxX = <a class="code" href="class_qwt_data.html#a4">x</a>(0);
00042     minY = maxY = <a class="code" href="class_qwt_data.html#a5">y</a>(0);
00043 
00044     <span class="keywordflow">for</span> ( size_t i = 1; i &lt; sz; i++ )
00045     {
00046         <span class="keyword">const</span> <span class="keywordtype">double</span> xv = <a class="code" href="class_qwt_data.html#a4">x</a>(i);
00047         <span class="keywordflow">if</span> ( xv &lt; minX )
00048             minX = xv;
00049         <span class="keywordflow">if</span> ( xv &gt; maxX )
00050             maxX = xv;
00051 
00052         <span class="keyword">const</span> <span class="keywordtype">double</span> yv = <a class="code" href="class_qwt_data.html#a5">y</a>(i);
00053         <span class="keywordflow">if</span> ( yv &lt; minY )
00054             minY = yv;
00055         <span class="keywordflow">if</span> ( yv &gt; maxY )
00056             maxY = yv;
00057     }
00058     <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(minX, maxX, minY, maxY);
00059 }
00060 
<a name="l00061"></a><a class="code" href="class_qwt_double_point_data.html#a0">00061</a> <a class="code" href="class_qwt_double_point_data.html#a0">QwtDoublePointData::QwtDoublePointData</a>(<span class="keyword">const</span> QwtArray&lt;QwtDoublePoint&gt; &amp;data):
00062     d_data(data)
00063 {
00064 }
00065 
<a name="l00067"></a><a class="code" href="class_qwt_double_point_data.html#a1">00067</a> <a class="code" href="class_qwt_double_point_data.html">QwtDoublePointData</a>&amp; <a class="code" href="class_qwt_double_point_data.html#a1">QwtDoublePointData::operator=</a>(
00068     <span class="keyword">const</span> <a class="code" href="class_qwt_double_point_data.html">QwtDoublePointData</a> &amp;data)
00069 {
00070     <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;data)
00071     {
00072         d_data = data.<a class="code" href="class_qwt_double_point_data.html#r0">d_data</a>;
00073     }
00074     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00075 }
00076 
<a name="l00077"></a><a class="code" href="class_qwt_double_point_data.html#a3">00077</a> size_t <a class="code" href="class_qwt_double_point_data.html#a3">QwtDoublePointData::size</a>()<span class="keyword"> const </span>
00078 <span class="keyword"></span>{ 
00079     <span class="keywordflow">return</span> d_data.<a class="code" href="class_qwt_double_point_data.html#a3">size</a>(); 
00080 }
00081 
<a name="l00082"></a><a class="code" href="class_qwt_double_point_data.html#a4">00082</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_double_point_data.html#a4">QwtDoublePointData::x</a>(size_t i)<span class="keyword"> const </span>
00083 <span class="keyword"></span>{ 
00084     <span class="keywordflow">return</span> d_data[int(i)].<a class="code" href="class_qwt_double_point_data.html#a4">x</a>(); 
00085 }
00086 
<a name="l00087"></a><a class="code" href="class_qwt_double_point_data.html#a5">00087</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_double_point_data.html#a5">QwtDoublePointData::y</a>(size_t i)<span class="keyword"> const </span>
00088 <span class="keyword"></span>{ 
00089     <span class="keywordflow">return</span> d_data[int(i)].<a class="code" href="class_qwt_double_point_data.html#a5">y</a>(); 
00090 }
00091 
<a name="l00092"></a><a class="code" href="class_qwt_double_point_data.html#a2">00092</a> <a class="code" href="class_qwt_data.html">QwtData</a> *<a class="code" href="class_qwt_double_point_data.html#a2">QwtDoublePointData::copy</a>()<span class="keyword"> const </span>
00093 <span class="keyword"></span>{ 
00094     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_qwt_double_point_data.html#a0">QwtDoublePointData</a>(d_data); 
00095 }
00096 
<a name="l00102"></a><a class="code" href="class_qwt_array_data.html#a0">00102</a> <a class="code" href="class_qwt_array_data.html#a0">QwtArrayData::QwtArrayData</a>(
00103     <span class="keyword">const</span> QwtArray&lt;double&gt; &amp;x, <span class="keyword">const</span> QwtArray&lt;double&gt; &amp;y): d_x(x), d_y(y)
00104 {
00105 }
00106 
<a name="l00112"></a><a class="code" href="class_qwt_array_data.html#a1">00112</a> <a class="code" href="class_qwt_array_data.html#a0">QwtArrayData::QwtArrayData</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> *x, <span class="keyword">const</span> <span class="keywordtype">double</span> *y, size_t size)
00113 {
00114     d_x.detach();
00115     d_x.duplicate(x, size);
00116     d_y.detach();
00117     d_y.duplicate(y, size);
00118 }
00119 
<a name="l00121"></a><a class="code" href="class_qwt_array_data.html#a2">00121</a> <a class="code" href="class_qwt_array_data.html">QwtArrayData</a>&amp; <a class="code" href="class_qwt_array_data.html#a2">QwtArrayData::operator=</a>(<span class="keyword">const</span> <a class="code" href="class_qwt_array_data.html">QwtArrayData</a> &amp;data)
00122 {
00123     <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;data)
00124     {
00125         d_x = data.<a class="code" href="class_qwt_array_data.html#r0">d_x</a>;
00126         d_y = data.<a class="code" href="class_qwt_array_data.html#r1">d_y</a>;
00127     }
00128     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00129 }
00130 
<a name="l00131"></a><a class="code" href="class_qwt_array_data.html#a4">00131</a> size_t <a class="code" href="class_qwt_array_data.html#a4">QwtArrayData::size</a>()<span class="keyword"> const </span>
00132 <span class="keyword"></span>{ 
00133     <span class="keywordflow">return</span> QMIN(d_x.size(), d_y.size()); 
00134 }
00135 
<a name="l00136"></a><a class="code" href="class_qwt_array_data.html#a5">00136</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_array_data.html#a5">QwtArrayData::x</a>(size_t i)<span class="keyword"> const </span>
00137 <span class="keyword"></span>{ 
00138     <span class="keywordflow">return</span> d_x[int(i)]; 
00139 }
00140 
<a name="l00141"></a><a class="code" href="class_qwt_array_data.html#a6">00141</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_array_data.html#a6">QwtArrayData::y</a>(size_t i)<span class="keyword"> const </span>
00142 <span class="keyword"></span>{ 
00143     <span class="keywordflow">return</span> d_y[int(i)]; 
00144 }
00145 
<a name="l00146"></a><a class="code" href="class_qwt_array_data.html#a3">00146</a> <a class="code" href="class_qwt_data.html">QwtData</a> *<a class="code" href="class_qwt_array_data.html#a3">QwtArrayData::copy</a>()<span class="keyword"> const </span>
00147 <span class="keyword"></span>{ 
00148     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_qwt_array_data.html#a0">QwtArrayData</a>(d_x, d_y); 
00149 }
00150 
<a name="l00156"></a><a class="code" href="class_qwt_array_data.html#a7">00156</a> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a> <a class="code" href="class_qwt_array_data.html#a7">QwtArrayData::boundingRect</a>()<span class="keyword"> const</span>
00157 <span class="keyword"></span>{
00158     <span class="keyword">const</span> size_t sz = <a class="code" href="class_qwt_array_data.html#a4">size</a>();
00159 
00160     <span class="keywordflow">if</span> ( sz &lt;= 0 )
00161         <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(1.0, -1.0, 1.0, -1.0); <span class="comment">// invalid</span>
00162 
00163     <span class="keywordtype">double</span> minX, maxX, minY, maxY;
00164     QwtArray&lt;double&gt;::ConstIterator xIt = d_x.begin();
00165     QwtArray&lt;double&gt;::ConstIterator yIt = d_y.begin();
00166     QwtArray&lt;double&gt;::ConstIterator end = d_x.begin() + sz;
00167     minX = maxX = *xIt++;
00168     minY = maxY = *yIt++;
00169 
00170     <span class="keywordflow">while</span> ( xIt &lt; end )
00171     {
00172         <span class="keyword">const</span> <span class="keywordtype">double</span> xv = *xIt++;
00173         <span class="keywordflow">if</span> ( xv &lt; minX )
00174             minX = xv;
00175         <span class="keywordflow">if</span> ( xv &gt; maxX )
00176             maxX = xv;
00177 
00178         <span class="keyword">const</span> <span class="keywordtype">double</span> yv = *yIt++;
00179         <span class="keywordflow">if</span> ( yv &lt; minY )
00180             minY = yv;
00181         <span class="keywordflow">if</span> ( yv &gt; maxY )
00182             maxY = yv;
00183     }
00184     <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(minX, maxX, minY, maxY);
00185 }
00186 
<a name="l00187"></a><a class="code" href="class_qwt_c_pointer_data.html#a0">00187</a> <a class="code" href="class_qwt_c_pointer_data.html#a0">QwtCPointerData::QwtCPointerData</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> *x, <span class="keyword">const</span> <span class="keywordtype">double</span> *y,
00188                                  size_t size):
00189     d_x(x), d_y(y), d_size(size)
00190 {
00191 }
00192 
<a name="l00194"></a><a class="code" href="class_qwt_c_pointer_data.html#a1">00194</a> <a class="code" href="class_qwt_c_pointer_data.html">QwtCPointerData</a>&amp; <a class="code" href="class_qwt_c_pointer_data.html#a1">QwtCPointerData::operator=</a>(<span class="keyword">const</span> <a class="code" href="class_qwt_c_pointer_data.html">QwtCPointerData</a> &amp;data)
00195 {
00196     <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;data)
00197     {
00198         d_x = data.<a class="code" href="class_qwt_c_pointer_data.html#r0">d_x</a>;
00199         d_y = data.<a class="code" href="class_qwt_c_pointer_data.html#r1">d_y</a>;
00200         d_size = data.<a class="code" href="class_qwt_c_pointer_data.html#r2">d_size</a>;
00201     }
00202     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00203 }
00204 
<a name="l00205"></a><a class="code" href="class_qwt_c_pointer_data.html#a3">00205</a> size_t <a class="code" href="class_qwt_c_pointer_data.html#a3">QwtCPointerData::size</a>()<span class="keyword"> const </span>
00206 <span class="keyword"></span>{   
00207     <span class="keywordflow">return</span> d_size; 
00208 }
00209 
<a name="l00210"></a><a class="code" href="class_qwt_c_pointer_data.html#a4">00210</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_c_pointer_data.html#a4">QwtCPointerData::x</a>(size_t i)<span class="keyword"> const </span>
00211 <span class="keyword"></span>{ 
00212     <span class="keywordflow">return</span> d_x[int(i)]; 
00213 }
00214 
<a name="l00215"></a><a class="code" href="class_qwt_c_pointer_data.html#a5">00215</a> <span class="keywordtype">double</span> <a class="code" href="class_qwt_c_pointer_data.html#a5">QwtCPointerData::y</a>(size_t i)<span class="keyword"> const </span>
00216 <span class="keyword"></span>{ 
00217     <span class="keywordflow">return</span> d_y[int(i)]; 
00218 }
00219 
<a name="l00220"></a><a class="code" href="class_qwt_c_pointer_data.html#a2">00220</a> <a class="code" href="class_qwt_data.html">QwtData</a> *<a class="code" href="class_qwt_c_pointer_data.html#a2">QwtCPointerData::copy</a>()<span class="keyword"> const </span>
00221 <span class="keyword"></span>{
00222     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_qwt_c_pointer_data.html#a0">QwtCPointerData</a>(d_x, d_y, d_size);
00223 }
00224 
<a name="l00230"></a><a class="code" href="class_qwt_c_pointer_data.html#a6">00230</a> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a> <a class="code" href="class_qwt_c_pointer_data.html#a6">QwtCPointerData::boundingRect</a>()<span class="keyword"> const</span>
00231 <span class="keyword"></span>{
00232     <span class="keyword">const</span> size_t sz = <a class="code" href="class_qwt_c_pointer_data.html#a3">size</a>();
00233 
00234     <span class="keywordflow">if</span> ( sz &lt;= 0 )
00235         <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(1.0, -1.0, 1.0, -1.0); <span class="comment">// invalid</span>
00236 
00237     <span class="keywordtype">double</span> minX, maxX, minY, maxY;
00238     <span class="keyword">const</span> <span class="keywordtype">double</span> *xIt = d_x;
00239     <span class="keyword">const</span> <span class="keywordtype">double</span> *yIt = d_y;
00240     <span class="keyword">const</span> <span class="keywordtype">double</span> *end = d_x + sz;
00241     minX = maxX = *xIt++;
00242     minY = maxY = *yIt++;
00243 
00244     <span class="keywordflow">while</span> ( xIt &lt; end )
00245     {
00246         <span class="keyword">const</span> <span class="keywordtype">double</span> xv = *xIt++;
00247         <span class="keywordflow">if</span> ( xv &lt; minX )
00248             minX = xv;
00249         <span class="keywordflow">if</span> ( xv &gt; maxX )
00250             maxX = xv;
00251 
00252         <span class="keyword">const</span> <span class="keywordtype">double</span> yv = *yIt++;
00253         <span class="keywordflow">if</span> ( yv &lt; minY )
00254             minY = yv;
00255         <span class="keywordflow">if</span> ( yv &gt; maxY )
00256             maxY = yv;
00257     }
00258     <span class="keywordflow">return</span> <a class="code" href="class_qwt_double_rect.html">QwtDoubleRect</a>(minX, maxX, minY, maxY);
00259 }
00260 
00261 <span class="comment">// Local Variables:</span>
00262 <span class="comment">// mode: C++</span>
00263 <span class="comment">// c-file-style: "stroustrup"</span>
00264 <span class="comment">// indent-tabs-mode: nil</span>
00265 <span class="comment">// End:</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Nov 20 13:42:36 2004 for Qwt User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
