<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Qwt User&apos;s Guide: qwt_math.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a></div>
<h1>qwt_math.h</h1><a href="qwt__math_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/* -*- mode: C++ ; c-file-style: "stroustrup" -*- *****************************</span>
00002 <span class="comment"> * Qwt Widget Library</span>
00003 <span class="comment"> * Copyright (C) 1997   Josef Wilgen</span>
00004 <span class="comment"> * Copyright (C) 2002   Uwe Rathmann</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
00007 <span class="comment"> * modify it under the terms of the Qwt License, Version 1.0</span>
00008 <span class="comment"> *****************************************************************************/</span>
00009 
00015 <span class="preprocessor">#ifndef QWT_MATH_H</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define QWT_MATH_H</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#include &lt;math.h&gt;</span>
00019 <span class="preprocessor">#include &lt;qpoint.h&gt;</span>
00020 <span class="preprocessor">#include "qwt_global.h"</span>
00021 
00022 
00023 <span class="preprocessor">#ifndef LOG10_2</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#define LOG10_2     0.30102999566398119802  </span><span class="comment">/* log10(2) */</span>
00025 <span class="preprocessor">#endif</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#ifndef LOG10_3</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#define LOG10_3     0.47712125471966243540  </span><span class="comment">/* log10(3) */</span>
00029 <span class="preprocessor">#endif</span>
00030 <span class="preprocessor"></span>
00031 <span class="preprocessor">#ifndef LOG10_5</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#define LOG10_5     0.69897000433601885749  </span><span class="comment">/* log10(5) */</span>
00033 <span class="preprocessor">#endif</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#ifndef M_2PI</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#define M_2PI       6.28318530717958623200  </span><span class="comment">/* 2 pi */</span>
00037 <span class="preprocessor">#endif</span>
00038 <span class="preprocessor"></span>
00039 <span class="preprocessor">#ifndef LOG_MIN</span>
00040 <span class="preprocessor"></span>
<a name="l00041"></a><a class="code" href="qwt__math_8h.html#a4">00041</a> <span class="preprocessor">#define LOG_MIN 1.0e-100</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00043 <span class="preprocessor"></span>
00044 <span class="preprocessor">#ifndef LOG_MAX</span>
00045 <span class="preprocessor"></span>
<a name="l00046"></a><a class="code" href="qwt__math_8h.html#a5">00046</a> <span class="preprocessor">#define LOG_MAX 1.0e100</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00048 <span class="preprocessor"></span>
00049 <span class="preprocessor">#ifndef M_E</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#define M_E            2.7182818284590452354   </span><span class="comment">/* e */</span>
00051 <span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
00053 <span class="preprocessor">#ifndef M_LOG2E</span>
00054 <span class="preprocessor"></span><span class="preprocessor">#define M_LOG2E 1.4426950408889634074   </span><span class="comment">/* log_2 e */</span>
00055 <span class="preprocessor">#endif</span>
00056 <span class="preprocessor"></span>
00057 <span class="preprocessor">#ifndef M_LOG2E</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#define M_LOG10E    0.43429448190325182765  </span><span class="comment">/* log_10 e */</span>
00059 <span class="preprocessor">#endif</span>
00060 <span class="preprocessor"></span>
00061 <span class="preprocessor">#ifndef M_LN2</span>
00062 <span class="preprocessor"></span><span class="preprocessor">#define M_LN2       0.69314718055994530942  </span><span class="comment">/* log_e 2 */</span>
00063 <span class="preprocessor">#endif</span>
00064 <span class="preprocessor"></span>
00065 <span class="preprocessor">#ifndef M_LN10</span>
00066 <span class="preprocessor"></span><span class="preprocessor">#define M_LN10         2.30258509299404568402  </span><span class="comment">/* log_e 10 */</span>
00067 <span class="preprocessor">#endif</span>
00068 <span class="preprocessor"></span>
00069 <span class="preprocessor">#ifndef M_PI</span>
00070 <span class="preprocessor"></span><span class="preprocessor">#define M_PI        3.14159265358979323846  </span><span class="comment">/* pi */</span>
00071 <span class="preprocessor">#endif</span>
00072 <span class="preprocessor"></span>
00073 <span class="preprocessor">#ifndef M_PI_2</span>
00074 <span class="preprocessor"></span><span class="preprocessor">#define M_PI_2      1.57079632679489661923  </span><span class="comment">/* pi/2 */</span>
00075 <span class="preprocessor">#endif</span>
00076 <span class="preprocessor"></span>
00077 <span class="preprocessor">#ifndef M_PI_4</span>
00078 <span class="preprocessor"></span><span class="preprocessor">#define M_PI_4      0.78539816339744830962  </span><span class="comment">/* pi/4 */</span>
00079 <span class="preprocessor">#endif</span>
00080 <span class="preprocessor"></span>
00081 <span class="preprocessor">#ifndef M_1_PI</span>
00082 <span class="preprocessor"></span><span class="preprocessor">#define M_1_PI      0.31830988618379067154  </span><span class="comment">/* 1/pi */</span>
00083 <span class="preprocessor">#endif</span>
00084 <span class="preprocessor"></span>
00085 <span class="preprocessor">#ifndef M_2_PI</span>
00086 <span class="preprocessor"></span><span class="preprocessor">#define M_2_PI      0.63661977236758134308  </span><span class="comment">/* 2/pi */</span>
00087 <span class="preprocessor">#endif</span>
00088 <span class="preprocessor"></span>
00089 <span class="preprocessor">#ifndef M_2_SQRTPI</span>
00090 <span class="preprocessor"></span><span class="preprocessor">#define M_2_SQRTPI  1.12837916709551257390  </span><span class="comment">/* 2/sqrt(pi) */</span>
00091 <span class="preprocessor">#endif</span>
00092 <span class="preprocessor"></span>
00093 <span class="preprocessor">#ifndef M_SQRT2</span>
00094 <span class="preprocessor"></span><span class="preprocessor">#define M_SQRT2 1.41421356237309504880  </span><span class="comment">/* sqrt(2) */</span>
00095 <span class="preprocessor">#endif</span>
00096 <span class="preprocessor"></span>
00097 <span class="preprocessor">#ifndef M_SQRT1_2</span>
00098 <span class="preprocessor"></span><span class="preprocessor">#define M_SQRT1_2   0.70710678118654752440  </span><span class="comment">/* 1/sqrt(2) */</span>
00099 <span class="preprocessor">#endif</span>
00100 <span class="preprocessor"></span>
00101 QWT_EXPORT <span class="keywordtype">double</span> qwtCeil125(<span class="keywordtype">double</span> x);
00102 QWT_EXPORT <span class="keywordtype">double</span> qwtFloor125(<span class="keywordtype">double</span> x);
00103 QWT_EXPORT <span class="keywordtype">double</span> qwtGetMin (<span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size);
00104 QWT_EXPORT <span class="keywordtype">double</span> qwtGetMax( <span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size);
00105 QWT_EXPORT <span class="keywordtype">void</span> qwtTwistArray(<span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size);
00106 QWT_EXPORT <span class="keywordtype">int</span> qwtChkMono(<span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size);
00107 QWT_EXPORT <span class="keywordtype">void</span> qwtLinSpace(<span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size, <span class="keywordtype">double</span> xmin, <span class="keywordtype">double</span> xmax);
00108 QWT_EXPORT <span class="keywordtype">void</span> qwtLogSpace(<span class="keywordtype">double</span> *array, <span class="keywordtype">int</span> size, <span class="keywordtype">double</span> xmin, <span class="keywordtype">double</span> xmax);
00109 
00110 
00111 <span class="preprocessor">#define qwtMax QMAX</span>
00112 <span class="preprocessor"></span><span class="preprocessor">#define qwtMin QMIN</span>
00113 <span class="preprocessor"></span><span class="preprocessor">#define qwtAbs QABS</span>
00114 <span class="preprocessor"></span><span class="preprocessor">#define qwtInt qRound</span>
00115 <span class="preprocessor"></span>
00117 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00118"></a><a class="code" href="qwt__math_8h.html#a30">00118</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="qwt__math_8h.html#a30">qwtSign</a>(<span class="keyword">const</span> T&amp; x)
00119 {
00120     <span class="keywordflow">if</span> (x &gt; T(0))
00121        <span class="keywordflow">return</span> 1;
00122     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &lt; T(0))
00123        <span class="keywordflow">return</span> (-1);
00124     <span class="keywordflow">else</span>
00125        <span class="keywordflow">return</span> 0;
00126 }            
00127 
00129 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00130"></a><a class="code" href="qwt__math_8h.html#a31">00130</a> <span class="keyword">inline</span> T <a class="code" href="qwt__math_8h.html#a31">qwtSqr</a>(<span class="keyword">const</span> T&amp;x)
00131 {
00132     <span class="keywordflow">return</span> x*x;
00133 }
00134 
00141 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00142"></a><a class="code" href="qwt__math_8h.html#a32">00142</a> <span class="keywordtype">void</span> <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(T *dest, T *src, <span class="keywordtype">int</span> n) 
00143 {
00144     <span class="keywordtype">int</span> i;
00145     <span class="keywordflow">for</span> (i=0; i&lt;n;i++ )
00146        dest[i] = src[i];
00147 }
00148 
00156 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00157"></a><a class="code" href="qwt__math_8h.html#a33">00157</a> <span class="keywordtype">void</span> <a class="code" href="qwt__math_8h.html#a33">qwtShiftArray</a>(T *arr, <span class="keywordtype">int</span> size, <span class="keywordtype">int</span> di)
00158 {
00159     <span class="keywordtype">int</span> i, delta;
00160     T* buffer = 0;
00161     
00162     delta = qwtAbs(di);
00163 
00164     <span class="keywordflow">if</span> ((delta &gt; 0) &amp;&amp; (delta &lt; size))
00165     {
00166     <span class="keywordflow">if</span> ((buffer = <span class="keyword">new</span> T[delta]))
00167     {
00168         <span class="keywordflow">if</span> (di &lt; 0)         <span class="comment">// shift left</span>
00169         {
00170         <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(buffer, arr, delta);
00171         <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(&amp;arr[0], &amp;arr[delta], size - delta);
00172         <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(&amp;arr[size - delta], buffer, delta);
00173         
00174         }
00175         <span class="keywordflow">else</span>            <span class="comment">// shift right</span>
00176         {
00177         <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(buffer, &amp;arr[size - delta], delta);
00178         <span class="keywordflow">for</span> ( i = size-delta-1; i &gt;= 0; i-- )
00179            arr[i + delta] = arr[i];
00180         <a class="code" href="qwt__math_8h.html#a32">qwtCopyArray</a>(arr, buffer, delta);
00181         }
00182     }
00183     }
00184     
00185     <span class="keywordflow">if</span> (buffer != 0) <span class="keyword">delete</span>[] buffer;
00186 }
00187 
00189 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00190"></a><a class="code" href="qwt__math_8h.html#a34">00190</a> <span class="keywordtype">void</span> <a class="code" href="qwt__math_8h.html#a34">qwtSwap</a>( T &amp;x1, T&amp; x2)
00191 {
00192     T tmp;
00193     tmp = x1;
00194     x1 = x2;
00195     x2 = tmp;
00196 }
00197 
00198 
00206 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00207"></a><a class="code" href="qwt__math_8h.html#a35">00207</a> <span class="keywordtype">void</span> <a class="code" href="qwt__math_8h.html#a36">qwtSort</a>(<span class="keyword">const</span> T&amp; x1, <span class="keyword">const</span> T&amp; x2, T&amp; xmin, T&amp; xmax)
00208 {
00209     T buffer;
00210     
00211     <span class="keywordflow">if</span> (x2 &lt; x1)
00212     {
00213     buffer = x1;
00214     xmin = x2;
00215     xmax = buffer;
00216     }
00217     <span class="keywordflow">else</span>
00218     {
00219     xmin = x1;
00220     xmax = x2;
00221     }
00222 }
00223 
00225 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00226"></a><a class="code" href="qwt__math_8h.html#a36">00226</a> <span class="keywordtype">void</span> <a class="code" href="qwt__math_8h.html#a36">qwtSort</a>(T&amp; x1, T&amp; x2)
00227 {
00228     T buffer;
00229     
00230     <span class="keywordflow">if</span> (x2 &lt; x1)
00231     {
00232     buffer = x1;
00233     x1 = x2;
00234     x2 = buffer;
00235     }
00236 }
00237 
00244 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00245"></a><a class="code" href="qwt__math_8h.html#a37">00245</a> T <a class="code" href="qwt__math_8h.html#a37">qwtLim</a>(<span class="keyword">const</span> T&amp; x, <span class="keyword">const</span> T&amp; x1, <span class="keyword">const</span> T&amp; x2)
00246 {
00247     T rv;
00248     T xmin, xmax;
00249     
00250     xmin = qwtMin(x1, x2);
00251     xmax = qwtMax(x1, x2);
00252 
00253     <span class="keywordflow">if</span> ( x &lt; xmin )
00254        rv = xmin;
00255     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( x &gt; xmax )
00256        rv = xmax;
00257     <span class="keywordflow">else</span>
00258        rv = x;
00259 
00260     <span class="keywordflow">return</span> rv;
00261 }
00262 
00263 <span class="keyword">inline</span> QPoint qwtPolar2Pos(<span class="keyword">const</span> QPoint &amp;center,
00264     <span class="keywordtype">double</span> radius, <span class="keywordtype">double</span> angle)
00265 {
00266     <span class="keyword">const</span> <span class="keywordtype">double</span> x = center.x() + radius * cos(angle);
00267     <span class="keyword">const</span> <span class="keywordtype">double</span> y = center.y() - radius * sin(angle);
00268 
00269     <span class="keywordflow">return</span> QPoint(qRound(x), qRound(y));
00270 }
00271 
00272 <span class="keyword">inline</span> QPoint qwtDegree2Pos(<span class="keyword">const</span> QPoint &amp;center,
00273     <span class="keywordtype">double</span> radius, <span class="keywordtype">double</span> angle)
00274 {
00275     <span class="keywordflow">return</span> qwtPolar2Pos(center, radius, angle / 180.0 * M_PI);
00276 }
00277 
00278 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Nov 20 13:42:37 2004 for Qwt User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
