<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Qwt User&apos;s Guide: qwt_picker.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a></div>
<h1>qwt_picker.h</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/* -*- mode: C++ ; c-file-style: "stroustrup" -*- *****************************</span>
00002 <span class="comment"> * Qwt Widget Library</span>
00003 <span class="comment"> * Copyright (C) 1997   Josef Wilgen</span>
00004 <span class="comment"> * Copyright (C) 2002   Uwe Rathmann</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
00007 <span class="comment"> * modify it under the terms of the Qwt License, Version 1.0</span>
00008 <span class="comment"> *****************************************************************************/</span>
00009 
00010 <span class="preprocessor">#ifndef QWT_PICKER</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#define QWT_PICKER 1</span>
00012 <span class="preprocessor"></span>
00013 <span class="preprocessor">#include &lt;qobject.h&gt;</span>
00014 <span class="preprocessor">#include &lt;qpen.h&gt;</span>
00015 <span class="preprocessor">#include &lt;qfont.h&gt;</span>
00016 <span class="preprocessor">#include &lt;qrect.h&gt;</span>
00017 <span class="preprocessor">#include &lt;qpointarray.h&gt;</span>
00018 <span class="preprocessor">#include "qwt_event_pattern.h"</span>
00019 <span class="preprocessor">#include "qwt_global.h"</span>
00020 
00021 <span class="keyword">class </span>QWidget;
00022 <span class="keyword">class </span>QMouseEvent;
00023 <span class="keyword">class </span>QWheelEvent;
00024 <span class="keyword">class </span>QKeyEvent;
00025 <span class="keyword">class </span><a class="code" href="class_qwt_picker_machine.html">QwtPickerMachine</a>;
00026 
<a name="l00079"></a><a class="code" href="class_qwt_picker.html">00079</a> <span class="keyword">class </span>QWT_EXPORT QwtPicker: <span class="keyword">public</span> QObject, <span class="keyword">public</span> <a class="code" href="class_qwt_event_pattern.html">QwtEventPattern</a>
00080 {
00081     Q_OBJECT
00082 
00083     Q_ENUMS(RubberBand)
00084     Q_ENUMS(DisplayMode)
00085     Q_ENUMS(ResizeMode)
00086 
00087     Q_PROPERTY(<span class="keywordtype">int</span> selectionFlags READ selectionFlags WRITE setSelectionFlags)
00088     Q_PROPERTY(DisplayMode cursorLabelMode 
00089         READ cursorLabelMode WRITE setCursorLabelMode)
00090     Q_PROPERTY(QFont cursorLabelFont 
00091         READ cursorLabelFont WRITE setCursorLabelFont)
00092     Q_PROPERTY(RubberBand rubberBand READ rubberBand WRITE setRubberBand)
00093     Q_PROPERTY(ResizeMode resizeMode READ resizeMode WRITE setResizeMode)
00094     Q_PROPERTY(<span class="keywordtype">bool</span> isEnabled READ isEnabled WRITE setEnabled)
00095 
00096 #<span class="keywordflow">if</span> QT_VERSION &gt;= 300
00097     <span class="comment">// Unfortunately moc is not aware of #ifdefs. To enable the QPen</span>
00098     <span class="comment">// attributes as properties uncomment the following lines.</span>
00099 
00100     <span class="comment">//Q_PROPERTY(QPen cursorLabelPen READ cursorLabelPen WRITE setCursorLabelPen)</span>
00101     <span class="comment">//Q_PROPERTY(QPen rubberBandPen READ rubberBandPen WRITE setRubberBandPen)</span>
00102 <span class="preprocessor">#endif</span>
00103 <span class="preprocessor"></span>
00104 <span class="keyword">public</span>:
<a name="l00123"></a><a class="code" href="class_qwt_picker.html#w22">00123</a>     <span class="keyword">enum</span> SelectionType
00124     {
00125         NoSelection = 0,
00126         PointSelection = 1,
00127         RectSelection = 2,
00128         PolygonSelection = 4
00129     };
00130 
<a name="l00149"></a><a class="code" href="class_qwt_picker.html#w23">00149</a>     <span class="keyword">enum</span> RectSelectionType
00150     {
00151         CornerToCorner = 64,
00152         CenterToCorner = 128,
00153         CenterToRadius = 256
00154     };
00155 
<a name="l00163"></a><a class="code" href="class_qwt_picker.html#w24">00163</a>     <span class="keyword">enum</span> SelectionMode
00164     {
00165         ClickSelection = 1024,
00166         DragSelection = 2048
00167     };
00168 
<a name="l00193"></a><a class="code" href="class_qwt_picker.html#w25">00193</a>     <span class="keyword">enum</span> RubberBand
00194     {
00195         NoRubberBand = 0,
00196 
00197         <span class="comment">// Point</span>
00198         HLineRubberBand,
00199         VLineRubberBand,
00200         CrossRubberBand,
00201 
00202         <span class="comment">// Rect</span>
00203         RectRubberBand,
00204         EllipseRubberBand,
00205 
00206         <span class="comment">// Polygon</span>
00207         PolygonRubberBand,
00208 
00209         UserRubberBand = 100
00210     };
00211 
<a name="l00223"></a><a class="code" href="class_qwt_picker.html#w26">00223</a>     <span class="keyword">enum</span> DisplayMode
00224     {
00225         AlwaysOff,
00226         AlwaysOn,
00227         ActiveOnly
00228     };
00229 
<a name="l00242"></a><a class="code" href="class_qwt_picker.html#w27">00242</a>     <span class="keyword">enum</span> ResizeMode
00243     {
00244         Stretch,
00245         KeepSize
00246     };
00247 
00248     QwtPicker(QWidget *, <span class="keyword">const</span> <span class="keywordtype">char</span> *name = 0);
00249     QwtPicker(<span class="keywordtype">int</span> selectionFlags, RubberBand rubberBand,
00250         DisplayMode cursorLabelMode, QWidget *, <span class="keyword">const</span> <span class="keywordtype">char</span> *name = 0);
00251 
00252     <span class="keyword">virtual</span> ~QwtPicker();
00253 
00254     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSelectionFlags(<span class="keywordtype">int</span>);
00255     <span class="keywordtype">int</span> selectionFlags() <span class="keyword">const</span>;
00256 
00257     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setRubberBand(RubberBand);
00258     RubberBand rubberBand() <span class="keyword">const</span>;
00259 
00260     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setCursorLabelMode(DisplayMode);
00261     DisplayMode cursorLabelMode() <span class="keyword">const</span>;
00262 
00263     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setResizeMode(ResizeMode);
00264     ResizeMode resizeMode() <span class="keyword">const</span>;
00265 
00266     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setRubberBandPen(<span class="keyword">const</span> QPen &amp;);
00267     QPen rubberBandPen() <span class="keyword">const</span>;
00268 
00269     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setCursorLabelPen(<span class="keyword">const</span> QPen &amp;);
00270     QPen cursorLabelPen() <span class="keyword">const</span>;
00271 
00272     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setCursorLabelFont(<span class="keyword">const</span> QFont &amp;);
00273     QFont cursorLabelFont() <span class="keyword">const</span>;
00274 
00275     <span class="keywordtype">bool</span> isEnabled() <span class="keyword">const</span>;
00276     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setEnabled(<span class="keywordtype">bool</span>);
00277 
00278     <span class="keywordtype">bool</span> isActive() <span class="keyword">const</span>;
00279 
00280     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> eventFilter(QObject *, QEvent *);
00281 
00282     QWidget *parentWidget();
00283     <span class="keyword">const</span> QWidget *parentWidget() <span class="keyword">const</span>;
00284 
00285     <span class="keyword">virtual</span> QRect pickRect() <span class="keyword">const</span>;
00286     <span class="keyword">const</span> QPointArray &amp;selection() <span class="keyword">const</span>; 
00287 
00288     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> event(QEvent *);
00289 
00290 signals:
00297     <span class="keywordtype">void</span> selected(<span class="keyword">const</span> QPointArray &amp;pa);
00298 
00305     <span class="keywordtype">void</span> appended(<span class="keyword">const</span> QPoint &amp;pos);
00306 
00314     <span class="keywordtype">void</span> moved(<span class="keyword">const</span> QPoint &amp;pos);
00315 
00323     <span class="keywordtype">void</span> changed(<span class="keyword">const</span> QPointArray &amp;pa);
00324 
00325 <span class="keyword">protected</span>:
00334     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> accept(QPointArray &amp;selection) <span class="keyword">const</span>;
00335 
00336     <span class="keyword">virtual</span> <span class="keywordtype">void</span> transition(<span class="keyword">const</span> QEvent *);
00337 
00338     <span class="keyword">virtual</span> <span class="keywordtype">void</span> begin();
00339     <span class="keyword">virtual</span> <span class="keywordtype">void</span> append(<span class="keyword">const</span> QPoint &amp;);
00340     <span class="keyword">virtual</span> <span class="keywordtype">void</span> move(<span class="keyword">const</span> QPoint &amp;);
00341     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> end(<span class="keywordtype">bool</span> ok = TRUE);
00342 
00343     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetMousePressEvent(QMouseEvent *);
00344     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetMouseReleaseEvent(QMouseEvent *);
00345     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetMouseDoubleClickEvent(QMouseEvent *); 
00346     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetMouseMoveEvent(QMouseEvent *); 
00347     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetWheelEvent(QWheelEvent *);
00348     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetKeyPressEvent(QKeyEvent *); 
00349     <span class="keyword">virtual</span> <span class="keywordtype">void</span> widgetKeyReleaseEvent(QKeyEvent *); 
00350 
00351     <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawRubberBand(<span class="keyword">const</span> QRect &amp;clipRect = QRect()) <span class="keyword">const</span>;
00352     <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawRubberBand(QPainter *, 
00353         <span class="keyword">const</span> QRect &amp;rect, <span class="keyword">const</span> QPointArray &amp;) <span class="keyword">const</span>;
00354 
00355     <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawCursorLabel(<span class="keyword">const</span> QRect &amp;clipRect = QRect()) <span class="keyword">const</span>;
00356     <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawCursorLabel(QPainter *, <span class="keyword">const</span> QRect &amp;rect, 
00357         <span class="keyword">const</span> QPoint &amp;, <span class="keyword">const</span> QPointArray &amp;) <span class="keyword">const</span>;
00358 
00359     <span class="keyword">virtual</span> <span class="keywordtype">void</span> stretchSelection(<span class="keyword">const</span> QSize &amp;oldSize, 
00360         <span class="keyword">const</span> QSize &amp;newSize);
00361 
00362     <span class="keyword">virtual</span> QString cursorLabel(<span class="keyword">const</span> QPoint &amp;pos) <span class="keyword">const</span>;
00363 
00364     <span class="keyword">virtual</span> <a class="code" href="class_qwt_picker_machine.html">QwtPickerMachine</a> *stateMachine(<span class="keywordtype">int</span>) <span class="keyword">const</span>;
00365 
00366     <span class="keywordtype">void</span> repaint(<span class="keyword">const</span> QRect &amp;rect = QRect());
00367 
00368 <span class="keyword">private</span>:
00369     <span class="keywordtype">void</span> init(QWidget *, <span class="keywordtype">int</span> selectionFlags, RubberBand rubberBand,
00370         DisplayMode cursorLabelMode);
00371 
00372     <span class="keywordtype">void</span> setStateMachine(<a class="code" href="class_qwt_picker_machine.html">QwtPickerMachine</a> *);
00373     <span class="keywordtype">void</span> setMouseTracking(<span class="keywordtype">bool</span>);
00374 
00375     <span class="keywordtype">bool</span> d_enabled;
00376 
00377     <a class="code" href="class_qwt_picker_machine.html">QwtPickerMachine</a> *d_stateMachine;
00378 
00379     <span class="keywordtype">int</span> d_selectionFlags;
00380     ResizeMode d_resizeMode;
00381 
00382     RubberBand d_rubberBand;
00383     QPen d_rubberBandPen;
00384 
00385     DisplayMode d_cursorLabelMode;
00386     QPen d_cursorLabelPen;
00387     QFont d_cursorLabelFont;
00388 
00389     QPointArray d_selection;
00390     <span class="keywordtype">bool</span> d_isActive;
00391     QPoint d_labelPosition;
00392 
00393     <span class="keywordtype">bool</span> d_mouseTracking; <span class="comment">// used to save previous value</span>
00394 };
00395             
00396 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Nov 20 13:42:37 2004 for Qwt User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
