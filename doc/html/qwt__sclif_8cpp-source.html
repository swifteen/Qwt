<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Qwt User&apos;s Guide: qwt_sclif.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>qwt_sclif.cpp</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/* -*- mode: C++ ; c-file-style: "stroustrup" -*- *****************************</span>
00002 <span class="comment"> * Qwt Widget Library</span>
00003 <span class="comment"> * Copyright (C) 1997   Josef Wilgen</span>
00004 <span class="comment"> * Copyright (C) 2002   Uwe Rathmann</span>
00005 <span class="comment"> * </span>
00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
00007 <span class="comment"> * modify it under the terms of the Qwt License, Version 1.0</span>
00008 <span class="comment"> *****************************************************************************/</span>
00009 
00010 <span class="preprocessor">#include "qwt_sclif.h"</span>
00011 
<a name="l00013"></a><a class="code" href="class_qwt_scale_if.html#a0">00013</a> <a class="code" href="class_qwt_scale_if.html#a0">QwtScaleIf::QwtScaleIf</a>()
00014 {
00015     d_userScale = FALSE;
00016     d_maxMajor = 5;
00017     d_maxMinor = 3;
00018 
00019     d_scaleDraw = <span class="keyword">new</span> <a class="code" href="class_qwt_scale_draw.html">QwtScaleDraw</a>();
00020     d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a2">setScale</a>(0.0,100.0,d_maxMajor, d_maxMinor);
00021 }
00022 
<a name="l00024"></a><a class="code" href="class_qwt_scale_if.html#a1">00024</a> <a class="code" href="class_qwt_scale_if.html#a1">QwtScaleIf::~QwtScaleIf</a>()
00025 {
00026     <span class="keyword">delete</span> d_scaleDraw;
00027 }
00028 
<a name="l00044"></a><a class="code" href="class_qwt_scale_if.html#a2">00044</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a2">QwtScaleIf::setScale</a>(<span class="keywordtype">double</span> vmin, <span class="keywordtype">double</span> vmax, <span class="keywordtype">int</span> logarithmic)
00045 {
00046     <a class="code" href="class_qwt_scale_if.html#a2">setScale</a>(vmin,vmax,0.0,logarithmic);
00047 }
00048 
00049 
<a name="l00066"></a><a class="code" href="class_qwt_scale_if.html#a3">00066</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a2">QwtScaleIf::setScale</a>(<span class="keywordtype">double</span> vmin, <span class="keywordtype">double</span> vmax, 
00067     <span class="keywordtype">double</span> step, <span class="keywordtype">int</span> logarithmic)
00068 {
00069     <a class="code" href="class_qwt_scale_div.html">QwtScaleDiv</a> oldscl(d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>());
00070     
00071     d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a2">setScale</a>(vmin, vmax, d_maxMajor, d_maxMinor, step, logarithmic);
00072     d_userScale = TRUE;
00073     <span class="keywordflow">if</span> (oldscl != d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>())
00074        <a class="code" href="class_qwt_scale_if.html#b1">scaleChange</a>();
00075 }
00076 
<a name="l00081"></a><a class="code" href="class_qwt_scale_if.html#a4">00081</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a2">QwtScaleIf::setScale</a>(<span class="keyword">const</span> <a class="code" href="class_qwt_scale_div.html">QwtScaleDiv</a> &amp;s)
00082 {
00083     <span class="keywordflow">if</span> (s != d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>())
00084     {
00085         d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a2">setScale</a>(s);
00086         d_maxMajor = s.<a class="code" href="class_qwt_scale_div.html#a6">majCnt</a>();
00087         d_maxMinor = s.<a class="code" href="class_qwt_scale_div.html#a5">minCnt</a>();
00088         d_userScale = TRUE;
00089         <a class="code" href="class_qwt_scale_if.html#b1">scaleChange</a>();
00090     }
00091 }
00092 
<a name="l00099"></a><a class="code" href="class_qwt_scale_if.html#a7">00099</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a7">QwtScaleIf::autoScale</a>()
00100 {
00101     <span class="keywordflow">if</span> (!d_userScale) 
00102     {
00103         d_userScale = FALSE;
00104         <a class="code" href="class_qwt_scale_if.html#b1">scaleChange</a>();
00105     }
00106 }
00107 
<a name="l00117"></a><a class="code" href="class_qwt_scale_if.html#a5">00117</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a5">QwtScaleIf::setScaleMaxMajor</a>(<span class="keywordtype">int</span> ticks)
00118 {
00119     <span class="keywordflow">if</span> (ticks != d_maxMajor)
00120     {
00121         d_maxMajor = ticks;
00122         d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a2">setScale</a>(d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a3">lBound</a>(), 
00123         d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a4">hBound</a>(),
00124         d_maxMajor, d_maxMinor, 0.0,d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a7">logScale</a>()); 
00125         <a class="code" href="class_qwt_scale_if.html#b1">scaleChange</a>();
00126     }
00127 }
00128 
<a name="l00138"></a><a class="code" href="class_qwt_scale_if.html#a6">00138</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a6">QwtScaleIf::setScaleMaxMinor</a>(<span class="keywordtype">int</span> ticks)
00139 {
00140     <span class="keywordflow">if</span> ( ticks != d_maxMinor)
00141     {
00142         d_maxMinor = ticks;
00143         d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a2">setScale</a>(d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a3">lBound</a>(), 
00144             d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a4">hBound</a>(),
00145             d_maxMajor, d_maxMinor, 0.0, d_scaleDraw-&gt;<a class="code" href="class_qwt_scale_draw.html#a17">scaleDiv</a>().<a class="code" href="class_qwt_scale_div.html#a7">logScale</a>()); 
00146         <a class="code" href="class_qwt_scale_if.html#b1">scaleChange</a>();
00147     }
00148 }
00149 
<a name="l00155"></a><a class="code" href="class_qwt_scale_if.html#a10">00155</a> <span class="keywordtype">void</span> <a class="code" href="class_qwt_scale_if.html#a10">QwtScaleIf::setScaleDraw</a>(<a class="code" href="class_qwt_scale_draw.html">QwtScaleDraw</a> *sd)
00156 {
00157     <span class="keywordflow">if</span> ( sd == NULL || sd == d_scaleDraw )
00158         <span class="keywordflow">return</span>;
00159 
00160     <span class="keyword">delete</span> d_scaleDraw;
00161     d_scaleDraw = sd;
00162 } 
00163 
<a name="l00168"></a><a class="code" href="class_qwt_scale_if.html#b2">00168</a> <a class="code" href="class_qwt_scale_draw.html">QwtScaleDraw</a> *<a class="code" href="class_qwt_scale_if.html#a11">QwtScaleIf::scaleDraw</a>() 
00169 {
00170     <span class="keywordflow">return</span> d_scaleDraw;
00171 }
00172 
<a name="l00177"></a><a class="code" href="class_qwt_scale_if.html#a11">00177</a> <span class="keyword">const</span> <a class="code" href="class_qwt_scale_draw.html">QwtScaleDraw</a> *<a class="code" href="class_qwt_scale_if.html#a11">QwtScaleIf::scaleDraw</a>()<span class="keyword"> const</span>
00178 <span class="keyword"></span>{
00179     <span class="keywordflow">return</span> d_scaleDraw;
00180 }
00181 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Nov 20 13:42:38 2004 for Qwt User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
